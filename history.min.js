(function(){var s=document.createElement('script');s.src='https://code.jquery.com/jquery-3.6.0.min.js';document.body.appendChild(s);s.onload=function(){$('<div id="history-dialog" title="History">\n    <table id="history-table">\n        <thead>\n            <tr>\n                <th>URL</th>\n                <th>Title</th>\n                <th>Time</th>\n                <th>Delete</th>\n            </tr>\n        </thead>\n        <tbody id="history-body"></tbody>\n    </table>\n</div>\n<style>\n    #history-dialog table {\n        width: 100%;\n    }\n\n    #history-dialog th {\n        text-align: left;\n    }\n\n    #history-dialog td {\n        vertical-align: middle;\n    }\n\n    #history-dialog .delete {\n        cursor: pointer;\n        color: red;\n    }\n</style>').appendTo('body');chrome.history.search({text:'',startTime:0,maxResults:0},function(e){$.each(e,function(e,t){$('<tr>\n    <td><a href="'+t.url+'" target="_blank">'+t.url+'</a></td>\n    <td>'+t.title+'</td>\n    <td>'+new Date(t.lastVisitTime)+'</td>\n    <td><span class="delete" data-id="'+t.id+'">Delete</span></td>\n</tr>').appendTo('#history-body')});$('#history-dialog').dialog({autoOpen:!0,width:600});$(document).on('click','.delete',function(){var e=$(this).data('id');chrome.history.deleteUrl({url:e},function(){$(this).closest('tr').remove()}.bind(this))})})}})();
